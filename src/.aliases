#!/bin/zsh

# BREW & CASK
alias brews="brew list -1"
alias casks="brew list --cask -1"

# Re source the shell
alias src="_omz::reload"

# Update zsh
alias update-omz="_omz::update"

# Update Homebrew and all CLI tools (formulae)
alias update-brews="brew update; brew upgrade; brew cleanup"

# Update all GUI apps (casks)
alias update-casks="brew upgrade --cask --greedy"

# Update OSX
alias update-os="sudo softwareupdate --all --install --force"

# Update everything
alias update-all="update-brews; update-casks; update-os; update-omz; src"

# get to hosts
alias hosts="sudo vim /etc/hosts"

# list ssh keys
alias sshkeys="ssh-add -l"

## Copy my public key(s) to the pasteboard
alias sshpersonal="more ~/.ssh/id_ed25519.pub | pbcopy | printf '=> Personal key copied to pasteboard.\n'"
alias sshwork="more ~/.ssh/id_ed25519_slalom.pub | pbcopy | printf '=> Work key copied to pasteboard.\n'"

# Show/hide hidden files in Finder
alias showdotfiles="defaults write com.apple.finder AppleShowAllFiles -bool true && killall Finder"
alias hidedotfiles="defaults write com.apple.finder AppleShowAllFiles -bool false && killall Finder"

# Lock the screen (when going AFK)
alias afk="pmset sleepnow"

# Load nvm version if exists
alias load-nvm="cat .nvmrc | nvm use"

# Backup and restore dotfiles
alias backup-dotfiles="~/Code/dotfiles/scripts/backup.sh"
alias list-backups="ls -la ~/.dotfiles-backup/"
alias restore-dotfiles='function _restore(){ echo "Restoring from $1..."; cp -r "$1"/* ~/; echo "Restore complete!"; }; _restore'

# AWS
alias aws-get-role="aws sts get-caller-identity"
alias aws-auth="aws-azure-login --profile default --no-prompt --mode=gui"

# Ports
alias killport='function _killport(){ lsof -ti :$1 | xargs kill; }; _killport'
